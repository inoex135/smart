{"version":3,"sources":["../../src/pages/personal-agenda-edit/personal-agenda-edit.module.ts","../../src/providers/master-pegawai/master-pegawai.ts","../../src/pages/personal-agenda-edit/personal-agenda-edit.ts"],"names":[],"mappings":"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","file":"0.js","sourcesContent":["import { NgModule } from \"@angular/core\";\r\nimport { IonicPageModule } from \"ionic-angular\";\r\nimport { PersonalAgendaEditPage } from \"./personal-agenda-edit\";\r\nimport { AutoCompleteModule } from \"ionic2-auto-complete\";\r\nimport { MasterPegawaiProvider } from \"../../providers/master-pegawai/master-pegawai\";\r\nimport { MasterUnitProvider } from \"../../providers/master-unit/master-unit\";\r\n@NgModule({\r\n  declarations: [PersonalAgendaEditPage],\r\n  imports: [\r\n    AutoCompleteModule,\r\n    IonicPageModule.forChild(PersonalAgendaEditPage)\r\n  ],\r\n  providers: [MasterPegawaiProvider, MasterUnitProvider]\r\n})\r\nexport class PersonalAgendaEditPageModule {}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/personal-agenda-edit/personal-agenda-edit.module.ts","import { Injectable } from \"@angular/core\";\r\nimport { ApiProvider } from \"../api/api\";\r\nimport { map } from \"rxjs/operators\";\r\n\r\n@Injectable()\r\nexport class MasterPegawaiProvider {\r\n  labelAttribute = \"nama\"; //label yg akan ditampilkan ke view\r\n\r\n  constructor(public http: ApiProvider) {}\r\n  getResults(keyword: string) {\r\n    return this.http\r\n      .get(`/master/pegawai/search?nip=${keyword}&nama=${keyword}`)\r\n      .pipe(\r\n        map(res => {\r\n          return res.content.filter(item =>\r\n            item.nama.toLowerCase().startsWith(keyword.toLowerCase())\r\n          );\r\n        })\r\n      );\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/providers/master-pegawai/master-pegawai.ts","import { Component } from \"@angular/core\";\r\nimport {\r\n  IonicPage,\r\n  NavController,\r\n  NavParams,\r\n  ViewController\r\n} from \"ionic-angular\";\r\nimport { PersonalAgendaDetailProvider } from \"../../providers/personal-agenda-detail/personal-agenda-detail\";\r\nimport { ToastHelper } from \"../../helpers/toast-helper\";\r\nimport { TokenProvider } from \"../../providers/token/token\";\r\nimport { MasterUnitProvider } from \"../../providers/master-unit/master-unit\";\r\nimport { MasterPegawaiProvider } from \"../../providers/master-pegawai/master-pegawai\";\r\n\r\n@IonicPage()\r\n@Component({\r\n  selector: \"page-personal-agenda-edit\",\r\n  templateUrl: \"personal-agenda-edit.html\"\r\n})\r\nexport class PersonalAgendaEditPage {\r\n  private agendaData: any = {\r\n    tanggal_mulai: \"\",\r\n    waktu_mulai: \"\",\r\n    tanggal_akhir: \"\",\r\n    waktu_akhir: \"\",\r\n    uraian: \"\",\r\n    lokasi: \"\",\r\n    unit: [],\r\n    pegawai: []\r\n  };\r\n\r\n  err: any = \"\";\r\n  isSekretaris: boolean = false;\r\n\r\n  constructor(\r\n    public navCtrl: NavController,\r\n    public navParams: NavParams,\r\n    private agenda: PersonalAgendaDetailProvider,\r\n    private viewCtrl: ViewController,\r\n    private toast: ToastHelper,\r\n    private tokenProvider: TokenProvider,\r\n    private masterUnit: MasterUnitProvider,\r\n    private masterPegawai: MasterPegawaiProvider\r\n  ) {\r\n    this.tokenProvider.getProfile().then(res => {\r\n      this.isSekretaris = this.tokenProvider.latestProfile.is_sekretaris;\r\n    });\r\n  }\r\n\r\n  ionViewDidLoad() {\r\n    this.edit();\r\n  }\r\n\r\n  edit() {\r\n    const agendaId = this.navParams.get(\"agendaId\");\r\n    this.agenda\r\n      .edit(agendaId)\r\n      .subscribe(res => (this.agendaData = res), err => true);\r\n  }\r\n\r\n  update(agendaId: number) {\r\n    this.agenda.update(agendaId, this.agendaData).subscribe(\r\n      res => {\r\n        this.toast.present(res.messages);\r\n        this.dismiss();\r\n      },\r\n      err => {\r\n        const errorRespon = err.error ? err.error : err.errors;\r\n        this.err = errorRespon;\r\n        this.toast.present(err.error_code);\r\n      }\r\n    );\r\n  }\r\n\r\n  dismiss() {\r\n    this.viewCtrl.dismiss();\r\n  }\r\n\r\n  addData(data: Array<any>, item: any) {\r\n    data.push(item);\r\n  }\r\n\r\n  removeData(data: Array<any>, index: number) {\r\n    data.splice(index, 1);\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/personal-agenda-edit/personal-agenda-edit.ts"],"sourceRoot":""}