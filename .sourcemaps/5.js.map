{"version":3,"sources":["../../src/pages/login/login.module.ts","../../src/pages/login/login.ts"],"names":[],"mappings":"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","file":"5.js","sourcesContent":["import { NgModule } from \"@angular/core\";\r\nimport { IonicPageModule } from \"ionic-angular\";\r\nimport { LoginPage } from \"./login\";\r\nimport { ComponentsModule } from \"../../components/components.module\";\r\n\r\n@NgModule({\r\n  declarations: [LoginPage],\r\n  imports: [IonicPageModule.forChild(LoginPage), ComponentsModule],\r\n  exports: [LoginPage]\r\n})\r\nexport class LoginPageModule {}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/login/login.module.ts","import { Component } from \"@angular/core\";\r\nimport {\r\n  NavController,\r\n  NavParams,\r\n  ToastController,\r\n  IonicPage\r\n} from \"ionic-angular\";\r\n\r\nimport { User } from \"../../models/users\";\r\nimport { UserProvider } from \"../../providers/user/user\";\r\nimport { HomePage } from \"../home/home\";\r\nimport { TokenProvider } from \"../../providers/token/token\";\r\nimport { LoginState } from \"../../models/login-state.model\";\r\n@IonicPage()\r\n@Component({\r\n  selector: \"page-login\",\r\n  templateUrl: \"login.html\"\r\n})\r\nexport class LoginPage {\r\n  user = {} as User;\r\n  error: any = false;\r\n  isLoading: boolean = false;\r\n  params: any = {};\r\n\r\n  loginState: LoginState = {\r\n    isLogin: false,\r\n    sso: false\r\n  };\r\n\r\n  constructor(\r\n    public navCtrl: NavController,\r\n    public navParams: NavParams,\r\n    public userProvider: UserProvider,\r\n    public tokenProvider: TokenProvider,\r\n    public toastController: ToastController\r\n  ) {\r\n    let self = this;\r\n    this.params.data = {\r\n      login: \"Login\",\r\n      logo: \"assets/logo/kemenkeu.png\",\r\n      backgroundImage: \"assets/images/bg_login.png\"\r\n    };\r\n\r\n    this.params.events = {\r\n      onLogin: function(params) {\r\n        self.login(params);\r\n      },\r\n      onLoginSSO: function(params) {\r\n        self.loginSSO(params);\r\n      }\r\n    };\r\n  }\r\n\r\n  ionViewDidLoad() {}\r\n\r\n  login(user: User) {\r\n    this.loginState.isLogin = true;\r\n\r\n    this.userProvider.attemptAuth(user).subscribe(\r\n      data => this.navCtrl.setRoot(HomePage),\r\n      err => {\r\n        this.loginState.isLogin = false;\r\n\r\n        // toast error\r\n        this.toastController\r\n          .create({\r\n            message: err,\r\n            duration: 3000,\r\n            position: \"bottom\"\r\n          })\r\n          .present();\r\n      }\r\n    );\r\n  }\r\n\r\n  loginSSO(user: User) {\r\n    // as flag show loader spinner dan disable button\r\n    this.loginState.isLogin = true;\r\n    this.loginState.sso = true;\r\n\r\n    // login http\r\n    this.userProvider.attemptAuthSso(user).subscribe(\r\n      data => this.navCtrl.setRoot(HomePage),\r\n      err => {\r\n        // as flag untuk hide loader spinner dan un-disable button\r\n        this.loginState.isLogin = false;\r\n        this.loginState.sso = false;\r\n\r\n        // show toast when get error\r\n        this.toastController\r\n          .create({\r\n            message: err,\r\n            duration: 3000,\r\n            position: \"bottom\"\r\n          })\r\n          .present();\r\n      }\r\n    );\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/login/login.ts"],"sourceRoot":""}