{"version":3,"sources":["../../src/pages/payment-history/payment-history.module.ts","../../src/pages/payment-history-detail/payment-history-detail.ts","../../src/providers/payment/payment.ts","../../src/pages/payment-history/payment-history.ts"],"names":[],"mappings":"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","file":"4.js","sourcesContent":["import { NgModule } from \"@angular/core\";\r\nimport { IonicPageModule } from \"ionic-angular\";\r\nimport { ComponentsModule } from \"../../components/components.module\";\r\nimport { PipesModule } from \"../../pipes/pipes.module\";\r\nimport { PaymentHistoryPage } from \"./payment-history\";\r\nimport { PaymentProvider } from \"../../providers/payment/payment\";\r\n\r\n@NgModule({\r\n  declarations: [PaymentHistoryPage],\r\n  imports: [\r\n    IonicPageModule.forChild(PaymentHistoryPage),\r\n    ComponentsModule,\r\n    PipesModule\r\n  ],\r\n  providers:[PaymentProvider]\r\n})\r\nexport class NotificationPageModule {}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/payment-history/payment-history.module.ts","import { Component } from \"@angular/core\";\r\nimport { IonicPage, NavParams } from \"ionic-angular\";\r\n\r\n@Component({\r\n    selector: \"payment-history-detail\",\r\n    templateUrl: \"payment-history-detail.html\"\r\n  })\r\n@IonicPage()\r\nexport class PaymentHistoryDetailPage {\r\n\r\n    static TAG:string = 'PaymentHistoryDetailPage'\r\n    static KEY_MODEL:string = \"model\"\r\n\r\n    labels:any = {\r\n        Gaji_bruto: 'Gaji Bruto',\r\n        Gaji_pot: \"Potongan Gaji\",\r\n        Kek_bruto: \"Kekurangan Bruto\",\r\n        Kek_pot: \"Kekurangan Potongan\",\r\n        UM_bruto: \"Uang Makan Bruto\",\r\n        UM_pot: \"Potongan Uang Makan\",\r\n        UL_bruto: \"Uang Lembur Bruto\",\r\n        UL_pot: \"Potongan Uang Lembur\",\r\n        Tukin_bruto: \"Tukin Bruto\",\r\n        Tukin_pot: \"Potongan Tukin\",\r\n        total: \"total\",\r\n        Total: \"Total\",\r\n        bulan: \"bulan\",\r\n        tahun: \"tahun\",\r\n        monthName: \"monthName\"\r\n    }\r\n\r\n    model:any = {}\r\n\r\n    constructor(private navParams: NavParams) {\r\n        this.model = navParams.get(PaymentHistoryDetailPage.KEY_MODEL)\r\n    }\r\n\r\n    private getModel(): any {\r\n        let newModel: any = {\r\n            header:{},\r\n            detail: []\r\n        }\r\n        for (let l in this.labels) {\r\n            if (l !== 'total' && l !== 'Total' && l !== 'bulan' && l !== 'monthName' && l !== 'tahun') {\r\n                newModel.detail.push({label: this.labels[l], value: this.model[l]})\r\n            } else {\r\n                newModel.header[l] = this.model[l]\r\n            }\r\n        }\r\n        return newModel\r\n    }\r\n\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/pages/payment-history-detail/payment-history-detail.ts","import { Injectable } from \"@angular/core\";\r\nimport { ApiProvider } from \"../api/api\";\r\nimport { CacheProvider } from \"../cache/cache\";\r\nimport { Observable } from \"rxjs\";\r\nimport { of } from \"rxjs/observable/of\";\r\nimport { TokenProvider } from \"../token/token\";\r\nimport { LogUtil } from \"../../utils/logutil\";\r\n\r\n@Injectable()\r\nexport class PaymentProvider {\r\n\r\n    static TAG:string = 'PaymentProvider'\r\n    static KEY_PAYMENT_INCOME = 'NYDThw2sNBWjI7Q_'\r\n    static KEY_PAYMENT_NON_INCOME = 'NFkt4gh3XccUxW4S_'\r\n\r\n    static MONTHS:any = {\r\n        \"01\": 'Januari',\r\n        \"02\": 'Februari',\r\n        \"03\": 'Maret',\r\n        \"04\": 'April',\r\n        \"05\": 'Mei',\r\n        \"06\": 'Juni',\r\n        \"07\": 'Juli',\r\n        \"08\": 'Agustus',\r\n        \"09\": 'September',\r\n        \"10\": 'Oktober',\r\n        \"11\": 'November',\r\n        \"12\": 'Desember'\r\n    }\r\n\r\n    constructor(public api: ApiProvider, public token: TokenProvider, public cache: CacheProvider) {}\r\n\r\n    private getCache(prefix): Promise<any> {\r\n        return this.token.getCurrentProfile()\r\n        .then(data => {\r\n            let key = prefix + data.nip\r\n            return Promise.all([this.cache.get(key), data.nip, key])\r\n        })\r\n    }\r\n\r\n    private getIncomes(nip:string): Observable<any>  {\r\n        return this.api.get('/personal/riwayat-penghasilan?nip=' + nip)\r\n    }\r\n\r\n    private getNonIncomes(nip:string): Observable<any>  {\r\n        return this.api.get('/personal/riwayat-nonpenghasilan?nip=' + nip)\r\n    }\r\n\r\n    public getPaymentsByProvider(provider:string): Observable<any> {\r\n        LogUtil.d(PaymentProvider.TAG, \"provider: \" + provider)\r\n        return Observable.fromPromise(this.getCache(provider))\r\n            .mergeMap(([data, nip, key]) => {\r\n                if (data == null) {\r\n                    let api = this.getIncomes(nip)\r\n                    if (provider === PaymentProvider.KEY_PAYMENT_NON_INCOME) {\r\n                        LogUtil.d(PaymentProvider.TAG, \"get non income\")\r\n                        api = this.getNonIncomes(nip)\r\n                    }\r\n\r\n                    return api\r\n                        .map(response => {\r\n                            let result = []\r\n                            if (provider === PaymentProvider.KEY_PAYMENT_INCOME) {\r\n                                result = this.reconstructArray(response.bulanan)\r\n                            } else {\r\n                                result = response.lainnya.reverse()\r\n                            }\r\n                            if (result.length) {\r\n                                this.cache.put(key, {when: Date.now() + CacheProvider.FIVE_MINUTES, response: result})\r\n                            }\r\n                            return result\r\n                        })\r\n                }\r\n                return of(data.response)\r\n            })\r\n    }\r\n\r\n    private reconstructArray(items:any = []): any {\r\n        let arr = []\r\n        if (items.length > 0) {\r\n            items.forEach(model => {\r\n                model['monthName'] = PaymentProvider.MONTHS[model['bulan']]\r\n/*                 model['total'] = (Number(model['Gaji_bruto']) - Number(model['Gaji_pot'])) \r\n                + (Number(model['Kek_bruto']) - Number(model['Kek_pot'])) \r\n                + (Number(model['UM_bruto']) - Number(model['UM_pot'])) \r\n                + (Number(model['UL_bruto']) - Number(model['UL_pot'])) \r\n                + (Number(model['Tukin_bruto']) - Number(model['Tukin_pot'])) */\r\n                arr.push(model)\r\n            })\r\n        }\r\n        return arr.reverse()\r\n    }\r\n\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/providers/payment/payment.ts","import { Component } from \"@angular/core\";\r\nimport { IonicPage, NavController } from \"ionic-angular\";\r\nimport { PaymentHistoryDetailPage } from \"../payment-history-detail/payment-history-detail\";\r\nimport { LogUtil } from \"../../utils/logutil\";\r\nimport { PaymentProvider } from \"../../providers/payment/payment\";\r\nimport { ToastHelper } from \"../../helpers/toast-helper\";\r\nimport { LoaderHelper } from \"../../helpers/loader-helper\";\r\n\r\n@Component({\r\n    selector: \"payment-history\",\r\n    templateUrl: \"payment-history.html\"\r\n  })\r\n@IonicPage()\r\nexport class PaymentHistoryPage {\r\n\r\n    static TAG:string = 'PaymentHistoryPage'\r\n    static TITLE_INCOME = 'Riwayat Penghasilan'\r\n    static TITLE_NON_INCOME = 'Riwayat Non Penghasilan'\r\n\r\n    tabs:any = [\r\n        {\r\n            name: 'Penghasilan',\r\n            isActive: true,\r\n            provider: PaymentProvider.KEY_PAYMENT_INCOME,\r\n            title: PaymentHistoryPage.TITLE_INCOME\r\n        },\r\n        {\r\n            name: 'Non Penghasilan',\r\n            isActive: false,\r\n            provider: PaymentProvider.KEY_PAYMENT_NON_INCOME,\r\n            title: PaymentHistoryPage.TITLE_NON_INCOME\r\n        }\r\n    ]\r\n\r\n    items: Array<any> = []\r\n\r\n    type:string = PaymentProvider.KEY_PAYMENT_INCOME\r\n    title:string = PaymentHistoryPage.TITLE_INCOME\r\n\r\n    constructor(private navCtrl: NavController, \r\n        private payment: PaymentProvider,\r\n        private toast: ToastHelper,\r\n        private loader: LoaderHelper\r\n    ) {\r\n        \r\n    }\r\n\r\n    ionViewWillEnter() {\r\n        this.fillList()\r\n    } \r\n\r\n    fillList(): void {\r\n        this.loader.show()\r\n        .then(() => {\r\n            this.payment.getPaymentsByProvider(this.type)\r\n            .subscribe(res => {\r\n                LogUtil.d(PaymentHistoryPage.TAG, res)\r\n                if (res) {\r\n                    this.items = res\r\n                }\r\n                this.loader.dismissLoader()\r\n            }, error => {\r\n                this.toast.present('Oops.. Terjadi kesalahan!')\r\n                this.items = []\r\n                this.loader.dismissLoader()\r\n                this.toast.presentError(error)\r\n            }) \r\n        })\r\n    }\r\n\r\n    detail(model:any): void {\r\n        if (this.type === PaymentProvider.KEY_PAYMENT_INCOME) {\r\n            let data = {}\r\n            data[PaymentHistoryDetailPage.KEY_MODEL] = model\r\n            this.navCtrl.push(PaymentHistoryDetailPage.TAG, data)\r\n        }\r\n    }\r\n\r\n    onTabClick(index:number): void {\r\n        LogUtil.d(PaymentHistoryPage.TAG, \"index: \" + index)\r\n        this.tabs.forEach((tab, i) => {\r\n          tab.isActive = index == i && !tab.isActive\r\n        })\r\n        let tab = this.tabs[index]\r\n        this.type = tab.provider\r\n        LogUtil.d(PaymentHistoryPage.TAG, \"provider: \" + this.type)\r\n        this.title = tab.title\r\n        this.items = []\r\n        this.fillList()\r\n    }\r\n\r\n    getItems(): Array<any> {\r\n        return this.items\r\n    }\r\n\r\n    public isIncome(): boolean {\r\n        return this.type === PaymentProvider.KEY_PAYMENT_INCOME\r\n    }\r\n\r\n    public isNonIncome(): boolean {\r\n        return this.type === PaymentProvider.KEY_PAYMENT_NON_INCOME\r\n    }\r\n\r\n    public isIncomeExist() {\r\n        return this.isIncome() && this.isItemExist()\r\n    }\r\n\r\n    public isNonIncomeExist() {\r\n        return this.isNonIncome() && this.isItemExist()\r\n    }\r\n\r\n    private isItemExist():boolean {\r\n        return this.getItems().length > 0\r\n    }\r\n\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/pages/payment-history/payment-history.ts"],"sourceRoot":""}