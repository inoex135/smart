{"version":3,"sources":["../../src/pages/personal-agenda-add/personal-agenda-add.module.ts","../../src/providers/master-pegawai/master-pegawai.ts","../../src/pages/personal-agenda-add/personal-agenda-add.ts"],"names":[],"mappings":"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","file":"1.js","sourcesContent":["import { NgModule } from \"@angular/core\";\r\nimport { IonicPageModule } from \"ionic-angular\";\r\nimport { PersonalAgendaAddPage } from \"./personal-agenda-add\";\r\nimport { AutoCompleteModule } from \"ionic2-auto-complete\";\r\nimport { MomentHelper } from \"../../helpers/moment-helper\";\r\nimport { MasterPegawaiProvider } from \"../../providers/master-pegawai/master-pegawai\";\r\nimport { MasterUnitProvider } from \"../../providers/master-unit/master-unit\";\r\nimport { ToastHelper } from \"../../helpers/toast-helper\";\r\n\r\n@NgModule({\r\n  declarations: [PersonalAgendaAddPage],\r\n  imports: [\r\n    IonicPageModule.forChild(PersonalAgendaAddPage),\r\n    AutoCompleteModule\r\n  ],\r\n  providers: [\r\n    MomentHelper,\r\n    MasterPegawaiProvider,\r\n    MasterUnitProvider,\r\n    ToastHelper\r\n  ]\r\n})\r\nexport class PersonalAgendaAddPageModule {}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/personal-agenda-add/personal-agenda-add.module.ts","import { Injectable } from \"@angular/core\";\r\nimport { ApiProvider } from \"../api/api\";\r\nimport { map } from \"rxjs/operators\";\r\n\r\n@Injectable()\r\nexport class MasterPegawaiProvider {\r\n  labelAttribute = \"nama\"; //label yg akan ditampilkan ke view\r\n\r\n  constructor(public http: ApiProvider) {}\r\n  getResults(keyword: string) {\r\n    return this.http\r\n      .get(`/master/pegawai/search?nip=${keyword}&nama=${keyword}`)\r\n      .pipe(\r\n        map(res => {\r\n          return res.content.filter(item =>\r\n            item.nama.toLowerCase().startsWith(keyword.toLowerCase())\r\n          );\r\n        })\r\n      );\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/providers/master-pegawai/master-pegawai.ts","import { Component, ViewChild } from \"@angular/core\";\r\nimport { IonicPage, NavController, NavParams } from \"ionic-angular\";\r\nimport { DatepickerProvider } from \"../../providers/datepicker/datepicker\";\r\nimport { PersonalProvider } from \"../../providers/personal/personal\";\r\nimport { IAgendaAdd } from \"../../interface/agenda-add\";\r\n\r\nimport { AutoCompleteComponent } from \"ionic2-auto-complete\";\r\nimport { MomentHelper } from \"../../helpers/moment-helper\";\r\n\r\nimport { MasterPegawaiProvider } from \"../../providers/master-pegawai/master-pegawai\";\r\nimport { MasterUnitProvider } from \"../../providers/master-unit/master-unit\";\r\nimport { ToastHelper } from \"../../helpers/toast-helper\";\r\nimport { TokenProvider } from \"../../providers/token/token\";\r\n\r\n@IonicPage()\r\n@Component({\r\n  selector: \"page-personal-agenda-add\",\r\n  templateUrl: \"personal-agenda-add.html\"\r\n})\r\nexport class PersonalAgendaAddPage {\r\n  isSekretaris: boolean = false;\r\n\r\n  private agendaData: IAgendaAdd = {\r\n    tanggal_mulai: \"\",\r\n    jam_mulai: \"\",\r\n    tanggal_akhir: \"\",\r\n    jam_akhir: \"\",\r\n    uraian: \"\",\r\n    lokasi: \"\",\r\n    unit: [],\r\n    pegawai: [],\r\n    is_sekretaris: \"\"\r\n  };\r\n\r\n  peserta: string = \"\";\r\n\r\n  readonly MODE = { DATE: \"date\", TIME: \"time\" };\r\n\r\n  @ViewChild(\"searchbar\") searchbar: AutoCompleteComponent;\r\n\r\n  constructor(\r\n    public navCtrl: NavController,\r\n    public navParams: NavParams,\r\n    private datePicker: DatepickerProvider,\r\n    private personalProvider: PersonalProvider,\r\n    private masterPegawai: MasterPegawaiProvider,\r\n    private masterUnit: MasterUnitProvider,\r\n    private momentHelper: MomentHelper,\r\n    private toastHelper: ToastHelper,\r\n    private tokenProvider: TokenProvider\r\n  ) {}\r\n\r\n  ionViewDidLoad() {\r\n    this.tokenProvider.getProfile().then(res => {\r\n      this.isSekretaris = this.tokenProvider.latestProfile.is_sekretaris;\r\n    });\r\n  }\r\n\r\n  async tanggalMulai() {\r\n    const tanggalMulai = await this.datePicker.datePickerData(this.MODE.DATE);\r\n    this.agendaData.tanggal_mulai = this.momentHelper.convertIsoTo(\r\n      tanggalMulai,\r\n      \"DD-MM-YYYY\"\r\n    );\r\n  }\r\n\r\n  async jamMulai() {\r\n    const jamMulai = await this.datePicker.datePickerData(this.MODE.TIME);\r\n    this.agendaData.jam_mulai = this.momentHelper.convertIsoTo(\r\n      jamMulai,\r\n      \"HH:mm\"\r\n    );\r\n  }\r\n\r\n  async tanggalAkhir() {\r\n    const tanggalAkhir = await this.datePicker.datePickerData(this.MODE.DATE);\r\n    this.agendaData.tanggal_akhir = this.momentHelper.convertIsoTo(\r\n      tanggalAkhir,\r\n      \"DD-MM-YYYY\"\r\n    );\r\n  }\r\n\r\n  async jamAkhir() {\r\n    const jamAkhir = await this.datePicker.datePickerData(this.MODE.TIME);\r\n    this.agendaData.jam_akhir = this.momentHelper.convertIsoTo(\r\n      jamAkhir,\r\n      \"HH:mm\"\r\n    );\r\n  }\r\n\r\n  tambahAgenda() {\r\n    this.personalProvider.tambahAgenda(this.agendaData).subscribe(\r\n      res => {\r\n        this.toastHelper.present(res.messages);\r\n        this.navCtrl.pop();\r\n      },\r\n      err => {\r\n        this.toastHelper.present(err.errors[0].message);\r\n      }\r\n    );\r\n  }\r\n\r\n  addData(data: Array<any>, item: any) {\r\n    data.push(item);\r\n  }\r\n\r\n  removeData(data: Array<any>, index: number) {\r\n    data.splice(index, 1);\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/personal-agenda-add/personal-agenda-add.ts"],"sourceRoot":""}