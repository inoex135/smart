{"version":3,"sources":["../../src/pages/home/home.module.ts","../../src/pages/payment-history-detail/payment-history-detail.ts","../../src/pages/payment-history/payment-history.ts","../../src/pages/home/home.ts","../../src/constant/menu-home.ts"],"names":[],"mappings":"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","file":"3.js","sourcesContent":["import { NgModule } from \"@angular/core\";\r\nimport { IonicPageModule } from \"ionic-angular\";\r\nimport { HomePage } from \"./home\";\r\nimport { ComponentsModule } from \"../../components/components.module\";\r\n\r\n@NgModule({\r\n  declarations: [HomePage],\r\n  imports: [IonicPageModule.forChild(HomePage), ComponentsModule],\r\n  exports: [HomePage]\r\n})\r\nexport class HomePageModule {}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/home/home.module.ts","import { Component } from \"@angular/core\";\r\nimport { IonicPage, NavParams } from \"ionic-angular\";\r\n\r\n@Component({\r\n    selector: \"payment-history-detail\",\r\n    templateUrl: \"payment-history-detail.html\"\r\n  })\r\n@IonicPage()\r\nexport class PaymentHistoryDetailPage {\r\n\r\n    static TAG:string = 'PaymentHistoryDetailPage'\r\n    static KEY_MODEL:string = \"model\"\r\n\r\n    model:any = {\r\n\r\n    }\r\n\r\n    constructor(private navParams: NavParams) {\r\n        this.model = navParams.get(PaymentHistoryDetailPage.KEY_MODEL)\r\n    }\r\n\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/pages/payment-history-detail/payment-history-detail.ts","import { Component } from \"@angular/core\";\r\nimport { IonicPage, NavController } from \"ionic-angular\";\r\nimport { PaymentHistoryDetailPage } from \"../payment-history-detail/payment-history-detail\";\r\n\r\n\r\n\r\n@Component({\r\n    selector: \"payment-history\",\r\n    templateUrl: \"payment-history.html\"\r\n  })\r\n@IonicPage()\r\nexport class PaymentHistoryPage {\r\n\r\n    static TAG:string = 'PaymentHistoryPage'\r\n\r\n    tabs:any = [\r\n        {\r\n            name: 'Penghasilan',\r\n            isActive: true,\r\n            provider: ''\r\n        },\r\n        {\r\n            name: 'Non Penghasilan',\r\n            isActive: false,\r\n            provider: ''\r\n        }\r\n    ]\r\n\r\n    constructor(private navCtrl:NavController) {\r\n\r\n    }\r\n\r\n    detail(model:any) {\r\n        var data = {}\r\n        data[PaymentHistoryDetailPage.TAG] = model\r\n        this.navCtrl.push(PaymentHistoryDetailPage.TAG, data)\r\n    }\r\n\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/pages/payment-history/payment-history.ts","import { Component, ViewChild, ElementRef } from \"@angular/core\";\r\nimport { NavController, Platform, IonicPage, Select } from \"ionic-angular\";\r\nimport { UserProvider } from \"../../providers/user/user\";\r\n\r\nimport { MenuHomeConstant } from \"../../constant/menu-home\";\r\nimport { HomeProvider } from \"../../providers/home/home\";\r\n\r\nimport { LoaderHelper } from \"../../helpers/loader-helper\";\r\nimport { FCM } from \"@ionic-native/fcm\";\r\nimport { TokenProvider } from \"../../providers/token/token\";\r\nimport { LogUtil } from \"../../utils/logutil\";\r\nimport { NotificationBell } from \"../../components/notification-bell/notification-bell\";\r\nimport { NotificationProvider } from \"../../providers/notification/notification\";\r\nimport { ERROR_CODES } from \"../../constant/error-codes\";\r\nimport { PaymentHistoryPage } from \"../payment-history/payment-history\";\r\n\r\n@IonicPage()\r\n@Component({\r\n  selector: \"page-home\",\r\n  templateUrl: \"home.html\"\r\n})\r\nexport class HomePage {\r\n\r\n  TAG:string = 'HomePage'\r\n\r\n  @ViewChild(\"profileImage\") image: ElementRef\r\n  @ViewChild(\"selectUser\") select: Select\r\n  @ViewChild(\"bell\") bell: NotificationBell\r\n\r\n  menus: Array<any> = []\r\n  notifications: Array<any> = []\r\n  profile: any = {}\r\n  loggedInProfile: any = {}\r\n  substitutes:any = []\r\n  showAvatar: boolean = true\r\n  profileName: string = \"\"\r\n  currentProfile:any = {\r\n    name: '',\r\n    nip: ''\r\n  }\r\n\r\n  dashboard:any = {\r\n    \"CT\": 0,\r\n    \"jam_masuk_hari_ini\": \"-\",\r\n    \"DL\": 0,\r\n    \"hari_kerja\": 0,\r\n    \"akumulasi_absen\": \"-\",\r\n    \"jumlah_hari_masuk\": 0,\r\n    \"jam_keluar_hari_ini\": null\r\n  }\r\n\r\n  constructor(\r\n    public navCtrl: NavController,\r\n    public userProvider: UserProvider,\r\n    public fcm: FCM,\r\n    private homeProvider: HomeProvider,\r\n    private loaderHelper: LoaderHelper,\r\n    private token: TokenProvider,\r\n    private platform: Platform\r\n  ) {}\r\n\r\n  ionViewWillEnter() {\r\n    LogUtil.d(this.TAG, \"ionViewWillEnter\")\r\n    this.listMenu();\r\n    this.initData();\r\n    this.platform.ready().then(() => {\r\n      this.fcmGetToken();\r\n    });\r\n    if (this.bell) {\r\n        this.bell.updateNotification()\r\n    }\r\n  }\r\n\r\n  listMenu() {\r\n    this.menus = MenuHomeConstant.getMenus();\r\n    return this.menus;\r\n  }\r\n\r\n  setNotificationTotal(title: any, res: any) {\r\n    if (title === \"PERSURATAN\") return res.notification_persuratan;\r\n\r\n    if (title === \"PERSONAL\") return res.notification_personal;\r\n\r\n    if (title === \"APT\") return res.notification_apt;\r\n  }\r\n\r\n  pagesTo(component: string) {\r\n    if (component !== '') {\r\n      this.navCtrl.push(component);\r\n    }\r\n  }\r\n\r\n  logout() {\r\n    this.loaderHelper.createLoader();\r\n    this.userProvider.logout().subscribe(\r\n      () => {\r\n        this.userProvider.purgeAuth();\r\n        this.navCtrl.setRoot(\"LoginPage\");\r\n        this.loaderHelper.dismiss();\r\n      },\r\n      err => {\r\n        this.userProvider.purgeAuth();\r\n        this.loaderHelper.dismiss();\r\n        this.navCtrl.setRoot(\"LoginPage\");\r\n      }\r\n    );\r\n  }\r\n\r\n  fcmGetToken() {\r\n    this.fcm.getToken().then(\r\n      token => {\r\n        this.userProvider.saveFcmToken(token).subscribe();\r\n      },\r\n      err => {}\r\n    );\r\n    this.fcm.onTokenRefresh().subscribe(\r\n      token => {\r\n        this.userProvider.saveFcmToken(token).subscribe();\r\n      },\r\n      err => {}\r\n    );\r\n  }\r\n\r\n  async initData(force:boolean = false) {\r\n    // get profile dari localStorage jika sudah ada\r\n    this.userProvider.getProfile(force)\r\n    .then(profile => {\r\n      LogUtil.d(this.TAG, \"return\")\r\n      LogUtil.d(this.TAG, profile)\r\n      if (this.profile) {\r\n        this.currentProfile.name = profile.nama\r\n        this.currentProfile.nip = profile.nip\r\n      }\r\n      return Promise.resolve(profile)\r\n    })\r\n    .then(profile => {\r\n      return Promise.all([this.token.getLoggedInUser(), profile])\r\n    })\r\n    .then(([data, profile]) => {\r\n      if (data && data.user && profile && data.user.name == profile.nip) {\r\n        this.loggedInProfile = profile\r\n        if (profile.user_pengganti) {\r\n          this.substitutes = []\r\n          profile.user_pengganti.forEach(element => {\r\n            this.substitutes.push(element)\r\n          })\r\n        }\r\n      }\r\n    })\r\n    .then(() => {\r\n      return this.getProfilePicture()\r\n    })\r\n    .then(() => {\r\n      return this.getDashboard()\r\n    })\r\n    .catch(error => {\r\n      LogUtil.d(this.TAG, \"i catch error here on profile\")\r\n      LogUtil.e(this.TAG, error)\r\n      this.redirectToLogIn(error)\r\n    })\r\n  }\r\n\r\n  private getDashboard() {\r\n    this.homeProvider.getDashboard().then(\r\n      res => {\r\n        if (res) {\r\n          LogUtil.d(this.TAG, res)\r\n          this.dashboard = res.response\r\n        } \r\n      })\r\n      .catch(error => {\r\n        LogUtil.d(this.TAG, \"error accessing API dashboard\")\r\n        LogUtil.d(this.TAG, error)\r\n      }\r\n    )\r\n  }\r\n\r\n  private getProfilePicture() {\r\n    this.homeProvider.getPhotoProfile()\r\n    .then(\r\n      res => {\r\n        if (res != null) {\r\n          this.image.nativeElement.src = URL.createObjectURL(res)\r\n          this.showAvatar = false\r\n        } else {\r\n          this.showAvatar = true\r\n        }\r\n      }\r\n    ).catch(error => {\r\n      this.showAvatar = true\r\n    })\r\n  }\r\n\r\n  triggerOpenSelect() {\r\n    if (this.select) {\r\n      LogUtil.d(this.TAG, \"not null\")\r\n      this.select.open()\r\n    } else {\r\n      LogUtil.d(this.TAG, \"probably null\")\r\n    }\r\n  }\r\n\r\n  getPresensi(): string {\r\n    if (this.dashboard \r\n      && this.dashboard.jumlah_hari_masuk > 0\r\n      && this.dashboard.hari_kerja > 0\r\n    ) {\r\n      let percent = (this.dashboard.jumlah_hari_masuk / this.dashboard.hari_kerja) * 100\r\n      return percent.toFixed(0) + \"%\"\r\n    }\r\n    return \"-\"\r\n  }\r\n\r\n  //  by pass plt/plh\r\n  byPass(nip: string) {\r\n    //cek apakah nip yg di select, sama dengan currentUser\r\n    if (nip == this.loggedInProfile.nip) {\r\n      //jika ada, ubah token kembali dengan user asli/bukan plt -plh nya\r\n      this.token.setCurrentUserDataFirst()\r\n      .then(() => {\r\n        this.initData()\r\n      }).catch(error => {\r\n        this.redirectToLogIn(error)\r\n      })\r\n    } else {\r\n      this.loaderHelper.createLoader();\r\n      this.userProvider.byPass(nip)\r\n      .subscribe(\r\n        res => {\r\n          LogUtil.d(this.TAG, res)\r\n          if (res) {\r\n            this.initData(true)\r\n            this.bell.updateNotification()\r\n          }\r\n          this.loaderHelper.dismiss()\r\n        },\r\n        err => {\r\n          this.loaderHelper.dismiss()\r\n        }\r\n      );\r\n    }\r\n  }\r\n\r\n  getNotificationType():string {\r\n    return NotificationProvider.TYPE_ALL\r\n  }\r\n\r\n  getSubstituteUsers() {\r\n    return this.substitutes\r\n  }\r\n\r\n  private redirectToLogIn(error):void {\r\n    LogUtil.e(this.TAG, error)\r\n    if (error.message.includes(ERROR_CODES.MISSING_TOKEN)) {\r\n      this.userProvider.purgeAuth();\r\n      this.navCtrl.setRoot(\"LoginPage\");\r\n    }\r\n  }\r\n\r\n  historyPage() {\r\n    this.navCtrl.push(PaymentHistoryPage.TAG)\r\n  }\r\n\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/home/home.ts","export class MenuHomeConstant {\r\n  public static getMenus(): Array<any> {\r\n    const menus = [\r\n      {\r\n        title: \"PERSURATAN\",\r\n        subtitle: \"Pemberitahuan Persuratan\",\r\n        iconSmall: \"mail_sm\",\r\n        iconLarge: \"mail_lg\",\r\n        component: \"SuratPage\",\r\n        color: \"blue-light\"\r\n      },\r\n      {\r\n        title: \"PERSONAL\",\r\n        subtitle: \"Pemberitahuan Kalender Kegiatan\",\r\n        iconSmall: \"calendar_sm\",\r\n        iconLarge: \"calendar_lg\",\r\n        component: \"PersonalPage\",\r\n        color: \"orange\"\r\n      },\r\n      {\r\n        title: \"APT\",\r\n        subtitle: \"Pemberitahuan Supervisi\",\r\n        iconSmall: \"checkmark-circle-outline_sm\",\r\n        iconLarge: \"checkmark-circle-outline_lg\",\r\n        component: \"TabsPage\",\r\n        color: \"green-light\"\r\n      }\r\n    ];\r\n\r\n    return menus;\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/constant/menu-home.ts"],"sourceRoot":""}