<ion-header class="custom-action-bar">
  <ion-navbar>
    <ion-buttons start left>
      <button ion-button clear style="width:32px;" >
        
      </button>
    </ion-buttons>
    <ion-title class="center-ion-title">SMARt</ion-title>
    <ion-buttons end>
      <notification-bell #bell [notificationType]="getNotificationType()" ></notification-bell>
    </ion-buttons>
  </ion-navbar>
</ion-header>

<ion-content>
  <ion-card class="profile-card">
    <ion-item>
      <ion-avatar item-start>
        <img class="svg-img" (click)="triggerOpenSelect()" src="assets/icon/Group.png">
      </ion-avatar>
      <ion-avatar class="avatar-center">
        <img #profileImage >
        <text-avatar [hidden]="!showAvatar" [text]="profile?.nama || ''"></text-avatar>
      </ion-avatar>
      <ion-avatar item-end class="logout-text" (click)="logout()">
          Logout
      </ion-avatar>
    </ion-item>
    
    <ion-card-content>
      <p>{{currentProfile?.name}}</p>
      <p>{{currentProfile?.nip}}</p>
    </ion-card-content>
  </ion-card>

  <ion-grid class="grid menu-grid">
    <ion-row class="row img-grid">
      <ion-col class="col home-menu-button" (click)="pagesTo('SuratPage')">
        <img src="assets/svg/m-persuratan.svg" col-lg class="col home-menu-button" />
        Persuratan
      </ion-col>
      <ion-col class="col home-menu-button" (click)="pagesTo('AptPage')">
        <img src="assets/svg/m-apt.svg" col-lg class="col home-menu-button"  />
        APT
      </ion-col>
      <ion-col class="col home-menu-button" (click)="pagesTo('PersonalPage')">
        <img src="assets/svg/m-personal.svg" col-lg class="col home-menu-button"  />
        Personal
      </ion-col>
      <ion-col class="col home-menu-button" (click)="pagesTo('')">
        <img src="assets/svg/m-erapat.svg" col-lg class="col home-menu-button"  />
        E-Rapat
      </ion-col>
    </ion-row>

  </ion-grid>

  <ion-card hidden>
    <ion-card-content>
      <p>Test Slideer</p>
    </ion-card-content>
  </ion-card>

  <div class="present">
    <h5>Presensi</h5>
    <ion-card>
      <ion-card-content>
        <ion-list>
          <ion-item>
            <h2>Presensi</h2>
            <p>{{getPresensi()}}</p>
          </ion-item>
          <ion-item>
            <h2>Jam Masuk</h2>
            <p>{{dashboard?.jam_masuk_hari_ini}}</p>
          </ion-item>
          <ion-item>
            <h2>Akumulasi Absensi</h2>
            <p>{{dashboard?.akumulasi_absen}}</p>
          </ion-item>
        </ion-list>
      </ion-card-content>
    </ion-card>
  </div>

  <ion-card (click)="historyPage()">
    <ion-card-content center>
      <p>Riwayat Pembayaran</p>
    </ion-card-content>
  </ion-card>

  <ion-item hidden col-8 push-2 class="input--form">

    <ion-select #selectUser [ngModel]="currentProfile?.nip" col-12 (ngModelChange)="byPass($event)">
      <ion-option [value]="loggedInProfile?.nip">{{loggedInProfile?.nama}}</ion-option>
      <ion-option text-wrap [value]="user?.nip" *ngFor="let user of getSubstituteUsers()">
        {{user?.nama}}
      </ion-option>
    </ion-select>
  </ion-item>

</ion-content>
